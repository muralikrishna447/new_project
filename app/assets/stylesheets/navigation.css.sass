/* Global Nav 08-May-2014 */

@import 'mixins'

/* Navbar */

.navbar-fixed-top
  // http://stackoverflow.com/questions/2637058/positions-fixed-doesnt-work-when-using-webkit-transform
  -webkit-transform: translateZ(0)
  margin-bottom: 5px
  //position: fixed
  //margin-left: 0px
  //margin-right: 0px
  //-webkit-backface-visibility: hidden
  @include transition(all 300ms)

  .navbar-inner
    box-shadow: none
    background-image: none
    background-color: $offwhite
    border-color: $dark-orange
    border: none
    border-bottom: 1px solid $light-gray

  .brand
    text-shadow: none
    color: black
    padding: 6px 20px

  .nav-container
    @include transition(all 300ms cubic-bezier(.1, 0.7, 0.1, 1))

  .nav
    float: right
  .nav ul
    max-width: 800px
    margin: 10px 0 0 0
    padding: 0
    list-style: none
    @include primary-font

  .nav > li.border
    border-left: 1px solid #fff
    padding: 0 5px

  .nav > li
    line-height: $baseline * 4

  .nav > li > a
    @include transition(all .3s)
    text-transform: uppercase
    &:hover
      color: $orange
  .nav > li > ul
    margin-bottom: $baseline * 2 
  .nav > li > ul > li
    margin-left: 10px
    list-style-type: none
  .navbar-form
    margin: 12px 10px 12px
    input
      margin: 0px
  .btn-navbar
    margin-top: $baseline
    color: $orange
    background: none
    cursor: pointer
    h5
      margin-bottom: 0
    .icon-bar
      background-color: white
    &:hover
      background-image: none
      background-color: $orange
      +radius(2px)
  .nav-search
    background: $offwhite
    height: 78px
    width: 300px
    overflow: hidden
    position: absolute
    margin-left: -300px
    margin-top: -14px   
    @include transition(background 300ms)
    input[type='text']:focus
    &:hover
      cursor: pointer
    &.ng-enter
      @include transition(all 200ms ease-in-out)
      opacity: 0
      margin-left: -260px
      &.ng-enter-active
        opacity: 1  
        margin-left: -300px
    &.ng-leave
      @include transition(all 200ms ease-in-out)
      opacity: 1
      margin-left: -300px
      &.ng-leave-active
        opacity: 0
        margin-left: -260px
    .icon-search
      margin: 21px 10px 22px
      color: black
      float: left
    .icon-remove
      margin: 20px 5px
      color: black
      float: left
    #nav-search-field
      +radius(2px)
      border: 1px solid #ccc
      width: 250px



@media (min-width: 321px) and (max-width: 768px)
  .navbar-fixed-top
    .nav-container
      background: white
      border: 1px solid $offwhite
      position: absolute
      top: 60px
      right: 10px
      float: right
      width: 320px
      padding: $baseline
      @include transition(all 300ms cubic-bezier(.1, 0.7, 0.1, 1))

    .nav-container 
      position: absolute
      background: #fff
      border: 1px solid $offwhite
      border-top: 2px solid $orange
    
    .nav-container:after, .nav-container:before 
      bottom: 100%
      left: 90%
      border: solid transparent
      content: " "
      height: 0
      width: 0
      position: absolute
      pointer-events: none
    

    .nav-container:after 
      border-color: rgba(255, 255, 255, 0)
      border-bottom-color: #fff
      border-width: 7px
      margin-left: -5px
    
    .nav-container:before 
      border-color: rgba(194, 225, 245, 0)
      border-bottom-color: $orange
      border-width: 10px
      margin-left: -8px

@media (min-width: 768px) and (max-width: 979px)

  .nav-item-border
    display: none
    
  .navbar .nav > li > .dropdown-menu li a
    color: #333
    &:hover
      color: #fff
  .navbar
    .navbar-inner
      .container
        width: 100%


/* Landscape phone to portrait tablet */
@media (max-width: 767px)

  .nav-item-border
    display: none

  .navbar .nav > li > .dropdown-menu li a
    color: #333
    &:hover
      color: #fff

/* Landscape phones and down */
@media (max-width: 480px)

  .navbar .nav > li > .dropdown-menu li a
    color: #333
    font-weight: normal
    &:hover
      color: #fff     

@media (max-width: 320px)

  .navbar
    .nav-container
      position: absolute
      margin-top: 7px
      top: 60px
      left: 0
      background: #fff
      border: 1px solid $offwhite
      border-top: 2px solid $orange
      z-index: 10000
      &:before, &:after
        display: none


  .nav > li
    width: 100%
    border-bottom: 1px solid #f1f1f1
