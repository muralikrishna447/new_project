window.ChefSteps = {}

class ChefSteps.NavigationBootstrap
  constructor: (@headerTarget) ->

  cssLink: "<link rel=stylesheet type='text/css' href='http://<%= DOMAIN %>/assets/global_navigation.css' />"

  getHeader: =>
    jQuery.ajax
      url: "http://<%= DOMAIN %>/global-navigation"
      type: "GET"
      dataType: 'jsonp'
      success: @loadHeader

  loadCSS: =>
    jQuery(@cssLink).appendTo('head')

  loadHeader: (response) =>
    jQuery(@headerTarget).html(response)

  bootstrap: =>
    @loadCSS()
    @getHeader()

