- content_for :title, "Ribeye Offer"
- content_for :description, "This ribeye will blow your mind"

%style{:type => "text/css"}
  :sass
    .market-container
      display: flex
      display: -webkit-flex
      display: -moz-flex
      display: -o-flex

      -webkit-flex-wrap: wrap
      -moz-flex-wrap: wrap
      -ms-flex-wrap: wrap
      -o-flex-wrap: wrap
      flex-wrap: wrap
    .market-body
      padding-right: 30px
      -webkit-flex: 1
      -moz-flex: 1
      -ms-flex: 1
      -o-flex: 1
      flex: 1

      box-sizing: border-box
    .buybox
      -webkit-flex: 0 1 300px
      -moz-flex: 0 1 300px
      -ms-flex: 0 1 300px
      -o-flex: 0 1 300px
      flex: 0 1 300px

      -webkit-box-ordinal-group: 2
      -webkit-order: 1
      -moz-order: 1
      -ms-flex-order: 1
      order: 1
    .steps-gallery
      display: flex
      display: -webkit-flex
      display: -moz-flex
      display: -o-flex

      -webkit-flex-direction: row
      -moz-flex-direction: row
      -ms-flex-direction: row
      -o-flex-direction: row
      flex-direction: row

      -webkit-flex-wrap: wrap
      -moz-flex-wrap: wrap
      -ms-flex-wrap: wrap
      -o-flex-wrap: wrap
      flex-wrap: wrap

      -webkit-justify-content: center
      -moz-justify-content: center
      -ms-justify-content: center
      -o-justify-content: center
      justify-content: center

      -webkit-align-content: flex-start
      -moz-align-content: flex-start
      -ms-align-content: flex-start
      -o-align-content: flex-start
      align-content: flex-start

      margin-bottom: 30px
    .step
      -webkit-flex: 1 1 210px
      -moz-flex: 1 1 210px
      -ms-flex: 1 1 210px
      -o-flex: 1 1 210px
      flex: 1 1 210px

      margin-right: 30px
    .step cs-image
      margin-bottom: 10px
    .step img, .product-photo img
      border-radius: 8px
    .product-name
      font-size: 20px
      line-height: 22px
      font-weight: 500
      display: block
    .product-description
      font-size: 16px
      color: #767676
      display: block
    .product-pricing
      color: #767676
      font-size: 22px
      margin-top: 10px
      vertical-align: middle
      display: inline-block
    .product-shipping
      font-size: 14px
    .buy-button
      background-color: rgb(125, 180, 97)
      color: rgb(255,255,255)
      padding: 4px 8px
      margin: 10px 10px 0 0
      border: 1px solid #71a257
      border-radius: 3px

    @media (max-width: 600px)
      .market-container
        display: block
      .market-body
        -webkit-flex: 1 0 100%
        -moz-flex: 1 0 100%
        -ms-flex: 1 0 100%
        -o-flex: 1 0 100%
        flex: 1 0 100%

        padding-right: 0px
      .market-container
        -webkit-flex-direction: column-reverse
        -moz-flex-direction: column-reverse
        -ms-flex-direction: column-reverse
        -o-flex-direction: column-reverse
        flex-direction: column-reverse
      .buybox
        -webkit-flex: 0
        -moz-flex: 0
        -ms-flex: 0
        -o-flex: 0

.component-container(component-load component-id='ribeye-hero')
.component-container(ng-cloak ng-controller='ShoppingController' ng-init="loggedIn=#{current_user != nil}; getProduct(1538566017); #{params[:add_to_cart] ? 'addToCart({product_id: 4652374913, quantity: 1})' : ''}")
  .component.standard.market-container
    /  For when they are logged in
    .buybox(ng-show="loggedIn")
      %form(ng-submit="addToCart({product_id: 4652374913, quantity: 1})")
        / action: 'https://delve.myshopify.com/cart/add', method: 'post', target: '_blank' }
        / %input{ name: 'return_to', type: 'hidden', value: 'checkout' }
        %input{ name: 'handle', type: 'hidden', value: 'ribeye-special' }
        / %img.product-photo{ src: 'https://cdn.shopify.com/s/files/1/0171/7850/products/ribeye_large.jpg?v=1436993533', alt: 'Ribeye Roast' }
        %span.product-name Six-Pound Ribeye Roast
        %span.product-description feeds eight hungry adults
        %button.buy-button(type='submit' ng-disabled="product.quantity <= 0")
          %span(ng-show="product.quantity <= 0")
            Sold Out
          %span(ng-show="product.quantity > 0")
            Buy now
        .product-details(ng-hide="product.quantity <= 0")
          %span.product-pricing
            ${{product.price}}
            %span.product-shipping (free Fedex shipping)
          %div
            %small
              {{product.quantity || 0}} remaining

    / For when they aren't logged in
    .buybox(ng-show="!loggedIn")
      %form(ng-submit="loginThenAddToCart({product_id: '4652374913', quantity: '1'})")
        %span.product-name Six-Pound Ribeye Roast
        %span.product-description feeds eight hungry adults
        %button.buy-button(type='submit' ng-disabled="product.quantity <= 0")
          %span(ng-show="product.quantity <= 0")
            Sold Out
          %span(ng-show="product.quantity > 0")
            Buy now
        .product-details(ng-hide="product.quantity <= 0")
          %span.product-pricing
            ${{product.price}}
            %span.product-shipping (free Fedex shipping)
          %div
            %small
              {{product.quantity || 0}} remaining

    .market-body
      %h2 The Details
      %p Freshly-carved ribeye roast is a crowd-friendly, easy-to-prepare, and downright impressive dinner. We've hand-selected this cut just for ChefSteps members.
      %ul
        %li Limited availability. (Order quickly! We only have twenty!)
        %li Only available until August 21st (so it's nice and fresh).
        %li Six pounds of highest-quality, 100% grass-fed, pasture-raised beef
        %li Free overnight shipping

      
.component-container(component-load component-id='mm-testimonial')
.component-container(component-load component-id='mm-about-silver-fern')
.component-container(component-load component-id='mm-faq-header')
.component-container(component-load component-id='mm-faq')
.component-container(component-load component-id='mm-recipes-header')
.component-container(component-load component-id='mm-recipes')

=render 'layouts/footer'
