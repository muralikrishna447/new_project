!!! 5

-# paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/

-# <!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
-# <!--[if IE 7]>  <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
-# <!--[if IE 8]>  <html class="no-js lt-ie9" lang="en"> <![endif]-->
-# <!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

%html.no-js{:lang => "en"}

  %head

    -# ==========================================================================
    -# Head
    -# ==========================================================================

    %meta{:charset => "utf-8"}

    %title
    %meta{:name => "description", :content => ""}
    -# %meta{:name => "keywords", :content => ""}
    -# %meta{:name => "author", :content => ""}

    -# Mobile
    -# ==========================================================================

    %meta{:name => "viewport", :content => "width=device-width, initial-scale=1"}
    -# %meta{:name => "HandheldFriendly", :content => "True"}
    -# %meta{:name => "MobileOptimized", :content => "320"}
    = csrf_meta_tags

    -# iOS web app

    -# %meta{:name => "apple-mobile-web-app-capable", :content => "yes"}
    -# %meta{:name => "apple-mobile-web-app-status-bar-style", :content => "black"}
    -# %link{:rel => "apple-touch-startup-image", :href => "/img/touch/startup.png"}

    -# RSS
    -# ==========================================================================

    -# %link{:rel => "alternate", :type => "application/rss+xml", :title => "RSS", :href => "http://feeds.feedburner.com/FEEDNAME"}

    -# Favicon
    -# ==========================================================================

    %link{:href => "/favicon.ico", :rel => "shortcut icon"}

    -# iPad 3 Retina Display

    -# %link{:rel => "apple-touch-icon-precomposed", :sizes => "144x144", :href => "/img/touch/apple-touch-icon-144x144-precomposed.png"}

    -# iPhone 4 Retina display

    -# %link{:rel => "apple-touch-icon-precomposed", :sizes => "114x114", :href => "/img/touch/apple-touch-icon-114x114-precomposed.png"}

    -# iPad non-Retina display

    -# %link{:rel => "apple-touch-icon-precomposed", :sizes => "72x72", :href => "/img/touch/apple-touch-icon-72x72-precomposed.png"}

    -# Non-Retina iPhone, iPod Touch, Android 2.1+

    -# %link{:rel => "apple-touch-icon-precomposed", :href => "/img/touch/apple-touch-icon-57x57-precomposed.png"}

    -# Nokia

    -# %link{:rel => "shortcut icon", :href => "/img/touch/apple-touch-icon.png"}

    -# CSS
    -# ==========================================================================


    -# For all browsers
    = stylesheet_link_tag '320andup/style.css'
    = stylesheet_link_tag '320andup/print.css',  :media => 'print'
    -# For progressively larger displays
    = stylesheet_link_tag '320andup/480.css',  :media => 'only screen and (min-width: 480px)'
    = stylesheet_link_tag '320andup/600.css',  :media => 'only screen and (min-width: 600px)'
    = stylesheet_link_tag '320andup/768.css',  :media => 'only screen and (min-width: 768px)'
    = stylesheet_link_tag '320andup/992.css',  :media => 'only screen and (min-width: 992px)'
    -# For Retina displays
    = stylesheet_link_tag '320andup/2x.css',  :media => 'only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5)'
    = stylesheet_link_tag "application"

    -# IE Fixes
    -# ==========================================================================

    -#
    -# Use HTML5 Shim polyfill if not using Modernizr
    -# Compiled IE stylesheets for legacy IE "Mobile first" support (using SASS)
    -# nicolasgallagher.com/mobile-first-css-sass-and-ie/
    -#

    -# /[if (lt IE 9) & (!IEMobile)]
      -# %script{:src => "//html5shim.googlecode.com/svn/trunk/html5.js"}
      %script{:src => "/js/libs/selectivizr.min.js"}
      -# %link{:rel => "stylesheet", :href => "/css/oldie.css"}
      -# %link{:rel => "stylesheet", :href => "/css/ie8.css"}

    -# [if (lt IE 8) & (!IEMobile)]
      %link{:rel => "stylesheet", :href => "/css/ie7.css"}

    -# [if IE 6 & (!IEMobile)]
      %link{:rel => "stylesheet", :href => "/css/ie6.css"}

    -# JS
    -# ==========================================================================

    -# Typekit - change XXXXXXX to be your site's Typekit Kit ID

    -# %script{:src => "http://use.typekit.com/XXXXXXX.js"}
    -# :javascript
      try{Typekit.load();}catch(e){}

    -# Modernizr

    -# %script{:src => "/js/libs/modernizr.custom.js"}

  %body

    -# ==========================================================================
    -# Content
    -# ==========================================================================

    = yield

    -# JS
    -# ==========================================================================

    -# jQuery

    -# %script{:src => "//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"}
    -# :javascript
      window.jQuery || document.write('<script src="/js/jquery-1.7.2.min.js"><\/script>')

    -# Custom JS
    = javascript_include_tag "application"

    -#
    -# Asynchronous Google Analytics
    -# Change UA-XXXXX-X to be your site's ID
    -# mathiasbynens.be/notes/async-analytics-snippet
    -#

    - if Rails.env.production?
      :javascript
        var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
        (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g,s)}(document,'script'));
