-if split_name == "no_counters"  || split_name == "counters"
  .btn.btn-primary.relative(ng-controller="SocialButtonsController" ng-init="split=\'#{split_name}\'" ng-click="expandSocial=!expandSocial")
    .btn-share
      .icon-share
      Share
    .social-popover-triangle(ng-show="expandSocial" ng-animate="'spe'" )
    .social-popover(ng-show="expandSocial" ng-animate="'spe'" style="display: none;" ng-class='split')
      .contents
        .btn.btn-secondary.btn-social.btn-social-twitter(ng-click="shareTwitter();")
          = render 'layouts/social_button', icon: "twitter", networkFriendlyName: "Twitter", counter: "twitterCount", split_name: split_name
        .btn.btn-secondary.btn-social.btn-social-facebook(ng-click="shareFacebook()")
          = render 'layouts/social_button', icon: "facebook", networkFriendlyName: "Facebook", counter: "facebookCount", split_name: split_name
        .btn.btn-secondary.btn-social.btn-social-pinterest(ng-show="socialMediaItem()" ng-click="sharePinterest()")
          = render 'layouts/social_button', icon: "pinterest", networkFriendlyName: "Pinterest", counter: "pinterestCount", split_name: split_name
        .btn.btn-secondary.btn-social.btn-social-gplus(ng-click="shareGooglePlus()")
          = render 'layouts/social_button', icon: "google-plus", networkFriendlyName: "Google+", split_name: split_name
        .btn.btn-secondary.btn-social.btn-social-email(ng-click="shareEmail()")
          = render 'layouts/social_button', icon: "envelope", networkFriendlyName: "Email", split_name: split_name
-else
  .social-flat(ng-controller="SocialButtonsController" ng-init="split=\'#{split_name}\'" ng-class='split')
    -# Very hacky, clean this up if we end up with flat social out of the spit test
    -if (defined? likeable_object) && likeable_object
      - current_user_likes = current_user && current_user.likes_object?(likeable_object) ? 'true' : 'false'
      - likes_count = likeable_object.likes_count ? likeable_object.likes_count : 0
      %span(ng-controller='LikesController' ng-cloak)
        %span(ng-model="current_user_likes" ng-init="current_user_likes=#{current_user_likes}")
        %span(ng-model="likes_count" ng-init="likes_count=#{likes_count}")
        %span(ng-switch on="current_user_likes")
          %span(ng-switch-when='true')
            .btn.btn-secondary.btn-social.btn-social-like
              = render 'layouts/social_button', icon: "star", networkFriendlyName: "Like", counter: "likes_count", split_name: split_name
          %span(ng-switch-when='false')
            .btn.btn-secondary.btn-social.btn-social-like(ng-click="likeObject('#{likeable_object.class.to_s}', '#{likeable_object.id}');")
              = render 'layouts/social_button', icon: "star-empty", networkFriendlyName: "Like", counter: "likes_count", split_name: split_name
    .btn.btn-secondary.btn-social.btn-social-twitter(ng-click="shareTwitter();")
      = render 'layouts/social_button', icon: "twitter", networkFriendlyName: "Twitter", counter: "twitterCount", split_name: split_name
    .btn.btn-secondary.btn-social.btn-social-facebook(ng-click="shareFacebook()")
      = render 'layouts/social_button', icon: "facebook", networkFriendlyName: "Facebook", counter: "facebookCount", split_name: split_name
    .btn.btn-secondary.btn-social.btn-social-pinterest(ng-show="socialMediaItem()" ng-click="sharePinterest()")
      = render 'layouts/social_button', icon: "pinterest", networkFriendlyName: "Pinterest", counter: "pinterestCount", split_name: split_name
    .btn.btn-secondary.btn-social.btn-social-gplus(ng-click="shareGooglePlus()")
      = render 'layouts/social_button', icon: "google-plus", networkFriendlyName: "Google+", split_name: split_name
    .btn.btn-secondary.btn-social.btn-social-email(ng-click="shareEmail()")
      = render 'layouts/social_button', icon: "envelope", networkFriendlyName: "Email", split_name: split_name