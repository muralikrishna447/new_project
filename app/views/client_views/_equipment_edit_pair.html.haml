-##################################################################################
-# IMPORTANT IF YOU ARE EDITING THIS FILE SEE NOTE IN templates.js.erb !!!!!!
-##################################################################################

%csEditPair
  %csEditPairShow
    %div(ng-switch="" on="equipmentDisplayType(item)")
      %span(ng-switch-when="product")
        %a(ng-href='{{item.equipment.product_url}}' target='_blank')
          {{item.equipment.title || item.equipment}}&nbsp;
      %span.fake-link(ng-switch-when="fake_link")
        {{item.equipment.title || item.equipment}}&nbsp;
      %span(ng-switch-default="")
        {{item.equipment.title || item.equipment}}&nbsp;

  %csEditPairEdit
    .btn-toolbar.action-button-group
      .btn-group
        .btn.drag-handle.btn-small.btn-secondary(tooltip="Drag to reorder")
          %i.icon-sort
        .btn.remove-button.btn-small.btn-secondary(tooltip="Drag to reorder" tooltip="Remove equipment item" ng-click="removeItem()")
          %i.icon-remove
    .equipment-title.inline
      %input( cs-emit-focus
              csselectonfocus
              csinputmonkeyequipment
              type="text" 
              placeholder="New equipment item" 
              typeahead-editable="true" 
              autocomplete="off" 
              class="equipment-typeahead" 
              ng-model="item.equipment" 
              typeahead="e as e.title for e in all_equipment($viewValue)")

    .btn.btn-small.inline.align-baseline( ng-click='item.optional = ! item.optional' 
                    ng-class="{true: 'btn-primary', false: 'btn-secondary'}[item.optional]")
      Optional

