= render 'layouts/filepicker'
- content_for :title, "#{@course.title.html_safe} - Course"
- content_for :description, @course.description != "" ? @course.description.html_safe : @course.title.html_safe

.container
  .row
    .span12
      %h1
        = link_to @course.title, landing_course_path(@course)

.container(ng-controller='ActivityController' ng-init="loadActivity(10)")

  .row(ng-cloak)
    .span3
      %ul.nav.nav-tabs.nav-stacked
        - @course.assembly_inclusions.each_with_index do |inclusion,index|
          %li(ng-click="loadActivity(#{@course.assembly_inclusions[index].includable.id})")
            #{inclusion.includable.title}
    .span9
      .tab-content
        = render 'activities/main_activity_content', activity: @course.assembly_inclusions[0].includable

  -# By not cloaking this, it will be on while the page is first loading before angular takes charge
  .assembly-loading-background(ng-show="loading" ng-animate="'fade'")
    .activity-loading-spinner
      .span12
        %i.icon-spinner.icon-spin

             