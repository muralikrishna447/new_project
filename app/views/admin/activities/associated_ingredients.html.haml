= semantic_form_for [:admin, @activity], url: update_associated_ingredients_admin_activity_path(@activity) do |f|
  = f.inputs name: "Ingredients" do
    %ul.step-ingredients
      - @activity.ingredients.ordered.each do |ingredient|
        %li= link_to "#{ingredient.title} #{ingredient.measurement}", admin_ingredient_path(ingredient.ingredient_id)

  = f.inputs :for => :steps do |step, index|
    %li= step.text_field :subrecipe_title, placeholder: 'Subrecipe Title'
    = render 'step_ingredient_form', step: step, count: index, ingredients: @activity.ingredients.map(&:title)
  = f.actions do
    = f.action :submit
    = f.action :cancel, wrapper_html: {class: :cancel}, label: 'Cancel'