:ruby
  is_template = equipment.nil?

  row_id = 'equipment-row' if is_template
  title_data_attrs = {
    data: {source: Equipment.titles, provide: 'typeahead'},
    autocomplete: 'off'
  }

  title = equipment.title unless is_template
  product_url = equipment.product_url unless is_template
  optional = equipment.optional unless is_template

%tr{id: row_id}
  %td= text_field_tag 'recipe[equipments][][title]', title, title_data_attrs
  %td= check_box_tag'recipe[equipments][][optional]', optional
  %td
    = text_field_tag 'recipe[equipments][][product_url]', product_url
    = remove_button 'X', 'tr'
