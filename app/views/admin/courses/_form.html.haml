:ruby

= semantic_form_for [:admin, @course] do |f|
  = f.inputs name: "course Details" do
    = f.input :published
    = f.input :title
    = f.input :description, label: "Description (Markdown or HTML)"

  = section("Activities", f) do
    = hidden_field_tag "activity_hierarchy"

    .control-row
      = select_tag "activity_select", options_from_collection_for_select(Activity.all, "id", "title")
      = add_activity_to_list_button('Add Module', '#activity_select', '#activity_list', "#template_module")
      = add_activity_to_list_button('Add Activity', '#activity_select', '#activity_list > li:last-child > ol', "#template_activity")

    // templates for add buttons to copy
    %li#template_activity
      %div
        Replace
        =remove_button 'li'

    %li#template_module
      %div
        Replace
        =remove_button 'li'
      %ol

    .nested-activity-list-shared
      =render partial: 'shared/nested_activities', :locals => {:for_form => true}

  = f.actions do
    = f.action :submit, wrapper_html: {class: "return_activities"}
    = f.action :cancel, wrapper_html: {class: :cancel}, label: 'Cancel'

