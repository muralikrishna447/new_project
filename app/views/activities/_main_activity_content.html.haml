.master-column-container(cs-activity-columns)
  .master-column
    #main-content.main-content-container(ng-cloak)

      -# .aside.tools-aside.noprint(ng-show="(! editMode) && (activityColumns >= 3)")
      -#   = render 'shared/tools'

      -# .standard-item
      -#   = render 'activities/title'
      -#   -if defined? activity
      -#     .section-tiny.noprint(ng-hide="editMode")
      -#       = render 'layouts/social_buttons', media_object: activity

      -# .flex-container
      -#   .flex-item.flex-full
      -#     = render 'activities/title'
      -#   .flex-item.flex-aside
      -#     = render 'shared/tools'
      -#   .flex-item.flex-main
      -#     = render 'activities/latest/description'
      -#   .flex-item.flex-aside.noprint(ng-hide="editMode")
      -#     = render 'layouts/social_buttons', media_object: activity
      .flex-container
        .flex-item.flex-full
          .flex-title
            %h1
              {{activity.title}}
        .flex-item.flex-aside
          .flex-tools
            .flex-tool
              %div(ng-controller='LikesController'
                    ng-click='toggleLikeObject(getObjectTypeName(), getObject().id)'
                    ng-init='getCurrentUserLikes(getObjectTypeName(), getObject().id)'
                    ng-if="! inClass")
                %i.fa.fa-bookmark-o(ng-if="!current_user_likes")
                %i.fa.fa-bookmark(ng-if="current_user_likes")
                %div
                  {{getObject().likes_count || 0}}
            .flex-tool
              %i.fa.fa-comments-o
              %div
                {{commentCount}}
            .flex-tool(ng-click="doPrint()")
              %i.fa.fa-file-text-o
              %div
                Print
            .flex-tool
              %i.fa.fa-ellipsis-h
              %div
                More
        .flex-item.flex-main
          = render 'activities/latest/description'
        .flex-item.flex-aside
          %h5 Share
          .flex-social
            .flex-social-item
              %i.fa.fa-envelope
            .flex-social-item
              %i.fa.fa-facebook
            .flex-social-item
              %i.fa.fa-twitter
            .flex-social-item
              %i.fa.fa-external-link
          .flex-suggestions
            %strong Here's some suggestions
            %ol
              %li Item 1
              %li Item 2
              %li Item 3
              %li Item 4
              %li Item 5

      .standard-item
        = render 'activities/metadata'

       
      .standard-item.section
        -# = render 'activities/latest/description'

      .section-large
      .medium-item

        .half-medium-item.ingredients-item(ng-if="activity.ingredients.length || editMode")
          = render 'activities/main_ingredients'

        .half-medium-item
          .section(ng-show="editMode || hasAnyEquipment()")
            = render 'activities/new_equipment_list', model: "activity.equipment", required_string: "any", required: "any"

          .section
            .quarter-medium-item(ng-show="editMode || !! activity.yield") 
              %h5 Yield
              .inline.no-p-margin(  cs-contenteditable="editMode" 
                        ng-model="activity.yield" 
                        itemprop="recipeYield")
              .inline.extra-info(ng-bind-html="maybeDisplayCurrentScaling()")

            .quarter-medium-item(ng-show="editMode || !! activity.timing") 
              %h5 Timing
              .inline.no-p-margin(  cs-contenteditable="editMode" 
                        ng-model="activity.timing")
              .inline.extra-info(ng-bind-html="maybeWarnCurrentScaling()")

          .section.noprint(ng-show='(! editMode) && (activity.used_in.length > 0)') 
            %h5 Used In
            %ul.no-bullet
              %li(ng-repeat="item in activity.used_in | orderBy:'creator.id':true | limitTo:10")
                %a( ng-bind-html='item.title'
                    ng-href='/activities/{{item.slug}}'
                    target='_blank')
                %span.text-orange(ng-show='item.creator' tooltip="Community contributed recipe") 
                  %i.icon-group

          .section.noprint(ng-show='(! editMode) && (activity.forks.length > 0)') 
            %h5 Forks
            %ul.no-bullet
              %li(ng-repeat="item in activity.forks | orderBy:'creator.id':true | limitTo:10")
                %a( ng-bind-html='item.title'
                    ng-href='/activities/{{item.slug}}'
                    target='_blank')
                %span.text-orange(ng-show='item.creator' tooltip="Community contributed recipe") 
                  %i.icon-group

      .ng-cloak.assembly-activity.relative(ng-controller="StepsController")
        = render 'activities/steps'

