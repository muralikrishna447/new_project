-# Uses a flex layout.  The hope is we can apply some of these components like .flex-container, .flex-item, .flex-full, .flex-aside, and .flex-main in other parts of the activity layout. 

.flex-container
  .flex-item.flex-full
    .flex-title
      = render 'title'
  .flex-item.flex-aside.flex-aside-left(ng-if="! inClass")
    .flex-tools-container(ng-hide='editMode')
      .flex-tools
        .flex-tool(ng-controller='LikesController' ng-class="{true:'active', false: 'inactive'}[current_user_likes]")
          %div( ng-click='toggleLikeObject(getObjectTypeName(), getObject().id)'
                ng-init='getCurrentUserLikes(getObjectTypeName(), getObject().id)')
            .flex-button-circle(ng-if="!current_user_likes")
              %i(cs-icon='save')
            .flex-button-circle(ng-if="current_user_likes")
              %i(cs-icon='saved')
            .flex-button-text(ng-if="!current_user_likes")
              Save
            .flex-button-text(ng-if="current_user_likes")
              Saved
        .flex-tool(cs-smooth-scroll-to='#discussion')
          -# %i.fa.fa-comments-o.flex-button-circle
          .flex-button-circle
            %i(cs-icon='comment')
          .flex-button-text
            {{commentCount}}
        .flex-tool.flex-large-only(ng-click='doPrint()')
          -# %i.fa.fa-file-text-o.flex-button-circle
          .flex-button-circle
            %i(cs-icon='print')
          .flex-button-text
            Print
        .flex-tool.flex-dropdown.flex-medium-only(cs-flex-dropdown)
          .flex-dropdown-toggle(cs-flex-dropdown-toggle)
            .flex-button-circle
              %i(cs-icon='share')
            .flex-button-text
              Share
          .flex-dropdown-menu.closed
            %ul(ng-controller='SocialButtonsController')
              %li(ng-click='shareEmail()')
                %i.flex-dropdown-icon(cs-icon='mail')
                Email
              %li(ng-click='shareFacebook()')
                %i.flex-dropdown-icon(cs-icon='facebook')
                Facebook
              %li(ng-click='shareTwitter()')
                %i.flex-dropdown-icon(cs-icon='twitter')
                Twitter
              %li(ng-click='sharePinterest()')
                %i.flex-dropdown-icon(cs-icon='pinterest')
                Pinterest
        .flex-tool.flex-dropdown(cs-flex-dropdown)
          .flex-dropdown-toggle(cs-flex-dropdown-toggle)
            .flex-button-circle
              %i(cs-icon='more')
            .flex-button-text
              More
          .flex-dropdown-menu.closed
            %ul
              -if can?(:update, @activity) && @include_edit_toolbar
                %li(  ng-click="maybeStartEditMode()"
                      tooltip="Edit this recipe"
                      tooltip-placement="left")
                  %i.flex-dropdown-icon(cs-icon='edit')
                  Edit
              -if can?(:update, Activity) && @include_edit_toolbar
                %li(  ng-show="hasActivityType('Recipe')"
                      ng-click="fork()")
                  %i.flex-dropdown-icon(cs-icon='edit-a-copy')
                  Edit a copy
              %li.flex-medium-only(ng-click='doPrint()')
                %i.flex-dropdown-icon(cs-icon='print')
                Print
  .flex-item.flex-main
    = render 'activities/latest/description'
  .flex-item.flex-aside.flex-aside-right.flex-large-only(ng-if="! inClass")
    .flex-social-container(ng-hide='editMode')
      %h5.flex-social-title Share
      .flex-social(ng-controller='SocialButtonsController')
        .flex-social-item(ng-click='shareEmail()')
          %i(cs-icon='mail')
        .flex-social-item(ng-click='shareFacebook()')
          %i(cs-icon='facebook')
        .flex-social-item(ng-click='shareTwitter()')
          %i(cs-icon='twitter')
        .flex-social-item.flex-dropdown(cs-flex-dropdown)
          .flex-dropdown-toggle(cs-flex-dropdown-toggle)
            %i(cs-icon='share')
          .flex-dropdown-menu.closed
            %ul
              %li(ng-click='sharePinterest()')
                %i.flex-dropdown-icon(cs-icon='pinterest')
                Pinterest
              %li(ng-click='shareGooglePlus()')
                %i.flex-dropdown-icon(cs-icon='google-plus')
                Share on Google+
              %li(ng-click='shareEmbedly()')
                %i.flex-dropdown-icon(cs-icon='code')
                Embed code
    -# .flex-suggestions
    -#   %strong Here's some suggestions
    -#   %ol
    -#     %li Item 1
    -#     %li Item 2
    -#     %li Item 3
    -#     %li Item 4
    -#     %li Item 5